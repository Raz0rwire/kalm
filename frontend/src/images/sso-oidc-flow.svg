<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1291px" height="802px" viewBox="-0.5 -0.5 1291 802"><defs/><g><rect x="0" y="0" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 50 40 L 50 800" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="49.5" y="24.5">User</text></g><rect x="45" y="230.08" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="45" y="290.08" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="45" y="350.08" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="45" y="160" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="45" y="440" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="45" y="70" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="45" y="530.18" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="45" y="619.18" width="10" height="110.82" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="170" y="0" width="200" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 270 40 L 270 800" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="269.5" y="24.5">Upstream Sidecar</text></g><rect x="265" y="70" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="265" y="530.18" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="265" y="619.18" width="10" height="110.82" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="450" y="0" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 515 40 L 515 800" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="514.5" y="24.5">Ext_authz server</text></g><rect x="510" y="80" width="10" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="510" y="540.18" width="10" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="510" y="629.18" width="10" height="30.82" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="1160" y="0" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1225 40 L 1225 800" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1224.5" y="24.5">IDP(Github,Gitlab)</text></g><rect x="1220" y="290.08" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="1220" y="365.08" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="960" y="0" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1025 40 L 1025 800" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1024.5" y="24.5">Dex</text></g><rect x="1020" y="350.08" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="1020" y="230.08" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="1020" y="450" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="790" y="0" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 855 40 L 855 800" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="854.5" y="24.5">Auth Proxy</text></g><rect x="850" y="160" width="10" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="850" y="440" width="10" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="620" y="0" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 685 40 L 685 800" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="684.5" y="24.5">Upstream</text></g><rect x="680" y="690" width="10" height="30.82" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 274.8 690.44 L 673.63 690.44" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 678.88 690.44 L 671.88 693.94 L 673.63 690.44 L 671.88 686.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="437" y="675" width="82" height="14" stroke-width="0"/><text x="477.16" y="684.94">GET /resourcesÂ </text></g><path d="M 264.92 129.52 L 62.87 129.52" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.12 129.52 L 65.12 125.02 L 62.87 129.52 L 65.12 134.02 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="95" y="114" width="133" height="14" stroke-width="0"/><text x="160.13" y="124.02">302 Redirect to Auth Proxy</text></g><path d="M 275.6 82 L 503.63 82" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 508.88 82 L 501.88 85.5 L 503.63 82 L 501.88 78.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="328" y="67" width="130" height="14" stroke-width="0"/><text x="392.24" y="76.5">GET /ext_authz/resources</text></g><path d="M 510 120 L 282.87 120" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 276.12 120 L 285.12 115.5 L 282.87 120 L 285.12 124.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="317" y="92" width="153" height="27" stroke-width="0"/><text x="392.36" y="101.5">No id_token in cookie or query. </text><text x="392.36" y="114.5">302 Redirect to Auth Proxy</text></g><path d="M 55.03 230.17 L 1013.86 230.14" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1019.11 230.14 L 1012.11 233.64 L 1013.86 230.14 L 1012.11 226.64 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 221px; margin-left: 553px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">GET Dex (client_id=kalm-sso, scopes=email,profile,groups,state=xxx)</div></div></div></foreignObject><text x="553" y="224" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET Dex (client_id=kalm-sso, scopes=email,profile,groups,state=xxx)</text></switch></g><path d="M 1020 260.14 L 62.87 260.08" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.12 260.08 L 65.12 255.58 L 62.87 260.08 L 65.12 264.58 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="459" y="245" width="157" height="14" stroke-width="0"/><text x="536.64" y="254.61">302 Redirect to identity provider</text></g><path d="M 54.92 290.17 L 1213.52 290.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1218.77 290.17 L 1211.77 293.67 L 1213.52 290.17 L 1211.77 286.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 281px; margin-left: 656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">GET identity provide, APPROVE</div></div></div></foreignObject><text x="656" y="284" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET identity provide, APPROVE</text></switch></g><path d="M 1219.98 320.02 L 62.82 320.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.07 320.17 L 65.07 315.67 L 62.82 320.17 L 65.07 324.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="531" y="305" width="213" height="14" stroke-width="0"/><text x="636.62" y="314.6">302 Redirect to Dex callback url with code1</text></g><path d="M 55.03 350.26 L 1013.86 350.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1019.11 350.2 L 1012.11 353.7 L 1013.86 350.2 L 1012.11 346.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 341px; margin-left: 553px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">GET Dex callback url with code1</div></div></div></foreignObject><text x="553" y="344" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET Dex callback url with code1</text></switch></g><path d="M 1020 410.2 L 65.12 410.08" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.12 410.08 L 65.12 405.58 L 65.12 414.58 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="419" y="395" width="237" height="14" stroke-width="0"/><text x="536.64" y="404.64">302 Redirect to Auth Proxy with code2 and state</text></g><path d="M 55.03 160.09 L 843.63 160.09" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 848.88 160.09 L 841.88 163.59 L 843.63 160.09 L 841.88 156.59 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 151px; margin-left: 466px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">GET Auth Proxy (original_url=http://example.com/resources,sign=xxxx)</div></div></div></foreignObject><text x="466" y="154" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET Auth Proxy (original_url=http://example.com/resources,sign=xxxx)</text></switch></g><path d="M 850 190.06 L 62.87 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.12 190 L 65.12 185.5 L 62.87 190 L 65.12 194.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="306" y="175" width="294" height="14" stroke-width="0"/><text x="452.36" y="184.53">302 Redirect to Dex auth url with client_id, scopes and state</text></g><path d="M 1036.37 364.96 L 1213.6 364.96" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1031.12 364.96 L 1038.12 361.46 L 1036.37 364.96 L 1038.12 368.46 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1218.85 364.96 L 1211.85 368.46 L 1213.6 364.96 L 1211.85 361.46 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 356px; margin-left: 1126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">exchange access_token by code1</div></div></div></foreignObject><text x="1126" y="359" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">exchange access_token by code1</text></switch></g><path d="M 1036.37 395.14 L 1213.58 395.14" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1031.12 395.14 L 1038.12 391.64 L 1036.37 395.14 L 1038.12 398.64 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1218.83 395.14 L 1211.83 398.64 L 1213.58 395.14 L 1211.83 391.64 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 386px; margin-left: 1126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">GET /user/info using access_token</div></div></div></foreignObject><text x="1126" y="389" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET /user/info using access_token</text></switch></g><path d="M 55 439.64 L 843.63 440" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 848.88 440 L 841.88 443.5 L 843.63 440 L 841.88 436.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 430px; margin-left: 466px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">GET Auth Proxy with code2 and state</div></div></div></foreignObject><text x="466" y="434" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET Auth Proxy with code2 and state</text></switch></g><path d="M 850 500 L 62.87 500" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.12 500 L 65.12 495.5 L 62.87 500 L 65.12 504.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="353" y="485" width="201" height="14" stroke-width="0"/><text x="452.36" y="494.5">302 Redirect to original_url with id_token</text></g><path d="M 1020 480 L 866.37 480" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 861.12 480 L 868.12 476.5 L 866.37 480 L 868.12 483.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 471px; margin-left: 935px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">id_token, access_token, ...</div></div></div></foreignObject><text x="935" y="474" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">id_token, access_token, ...</text></switch></g><path d="M 860 452.42 L 1013.63 452.42" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1018.88 452.42 L 1011.88 455.92 L 1013.63 452.42 L 1011.88 448.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 443px; margin-left: 935px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">exchage id_token by code2</div></div></div></foreignObject><text x="935" y="446" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">exchage id_token by code2</text></switch></g><path d="M 55.12 69.82 L 258.63 69.99" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 263.88 70 L 256.88 73.49 L 258.63 69.99 L 256.89 66.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="120" y="54" width="79" height="14" stroke-width="0"/><text x="158.91" y="64.41">GET /resources</text></g><path d="M 264.92 589.7 L 62.87 589.7" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.12 589.7 L 65.12 585.2 L 62.87 589.7 L 65.12 594.2 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="96" y="574" width="131" height="14" stroke-width="0"/><text x="160.13" y="584.2">302 Redirect to /resources</text></g><path d="M 275.6 542.18 L 503.63 542.18" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 508.88 542.18 L 501.88 545.68 L 503.63 542.18 L 501.88 538.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="293" y="527" width="200" height="14" stroke-width="0"/><text x="392.24" y="536.68">GET /ext_authz/resources?id_token=xxx</text></g><path d="M 510 580.18 L 282.87 580.18" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 276.12 580.18 L 285.12 575.68 L 282.87 580.18 L 285.12 584.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="328" y="552" width="131" height="27" stroke-width="0"/><text x="392.36" y="561.68">Set id_token in cookie. </text><text x="392.36" y="574.68">302 Redirect to /resources</text></g><path d="M 55.12 530 L 258.63 530.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 263.88 530.18 L 256.88 533.67 L 258.63 530.17 L 256.89 526.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="85" y="515" width="149" height="14" stroke-width="0"/><text x="158.91" y="524.59">GET /resources?id_token=xxx</text></g><path d="M 264.92 729.11 L 62.87 729.11" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 56.12 729.11 L 65.12 724.61 L 62.87 729.11 L 65.12 733.61 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="101" y="714" width="121" height="14" stroke-width="0"/><text x="160.13" y="723.61">Response: 200 Success</text></g><path d="M 275 632.37 L 503.63 632.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 508.88 632.37 L 501.88 635.87 L 503.63 632.37 L 501.88 628.87 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="328" y="604" width="130" height="27" stroke-width="0"/><text x="391.64" y="613.87">GET /ext_authz/resources </text><text x="391.64" y="626.87">with id_token in cookie</text></g><path d="M 510 660 L 282.87 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 276.12 660 L 285.12 655.5 L 282.87 660 L 285.12 664.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="333" y="645" width="121" height="14" stroke-width="0"/><text x="392.36" y="654.5">Response: 200 Success</text></g><path d="M 55.12 618.85 L 258.63 619.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 263.88 619.18 L 256.88 622.67 L 258.63 619.17 L 256.89 615.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="63" y="604" width="193" height="14" stroke-width="0"/><text x="158.91" y="613.51">GET /resources with id_token in cookie</text></g><path d="M 680 720.39 L 282.87 720.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 276.12 720.39 L 285.12 715.89 L 282.87 720.39 L 285.12 724.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="417" y="705" width="121" height="14" stroke-width="0"/><text x="476.64" y="714.89">Response: 200 Success</text></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>